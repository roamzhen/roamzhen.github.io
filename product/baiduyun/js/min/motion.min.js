!function(){!function(){!function(){if(!window.Motion){var e={version:"1.1",add:function(e,t){for(var i=window,o=arguments.callee,r=null,n=(/^([\w\.]+)(?:\:([\w\.]+))?\s*$/.test(e),RegExp.$1.split(".")),a=RegExp.$2.split("."),e=n.pop(),c=/[A-Z]/.test(e.substr(0,1)),s=function(){var e=arguments.callee.prototype.init;"function"==typeof e&&arguments.callee.caller!=o&&e&&e.apply(this,arguments)},l=0;l<n.length;l++){var u=n[l];i=i[u]||(i[u]={})}if(""!=a[0]){r=window;for(var l=0;l<a.length;l++)if(r=r[a[l]],!r){r=null;break}}c&&"function"==typeof t?(r&&(s.prototype=new r,s.prototype.superClass=r),i[e]=s,s.prototype.constructor=s,t.call(i[e].prototype)):i[e]=t}};window.Motion=window.mo=e}}()}(),function(){Motion.add("mo.Base",function(){var e=this;this.constructor,e.constructor=function(){},e.on=function(){return box=Zepto(this),box.on.apply(box,arguments)},e.off=function(){return box=Zepto(this),box.off.apply(box,arguments)},e.trigger=function(){var e=Zepto(this);return e.triggerHandler.apply(e,arguments)}})}(),function(){Motion.add("mo.Tab:mo.Base",function(){var e=this,t={},i=this.constructor;i.config={effect:"base",direction:"x",autoPlay:!1,playTo:0,switchTo:window.undefined,type:"touchend",currentClass:"current",link:!1,stay:2e3,delay:200,touchDis:20,lazy:window.undefined,circle:!1,degradation:"base",animateTime:300,event:{},easing:"ease",title:{delay:0},controlDisabed:!1},i.effect={},t.supportTouch="ontouchstart"in window,t.e={touchstart:t.supportTouch?"touchstart":"mousedown",touchmove:t.supportTouch?"touchmove":"mousemove",touchend:t.supportTouch?"touchend":"mouseup"},e.init=function(e){this.config=Zepto.extend(!0,{},i.config,e);var o=this,e=o.config,r=Zepto(e.target);if(this.constructor.instances?this.constructor.instances.push(this):this.constructor.instances=[this],Zepto.extend(o,{target:r,controller:null,prevPage:window.undefined,curPage:window.undefined,container:r.parent(),prevBtn:Zepto(e.prevBtn),nextBtn:Zepto(e.nextBtn),isPlaying:e.autoPlay,disabledPrevList:[],disabledNextList:[]}),!(r.length<=1)){e.disable!==window.undefined&&o.disable(e.disable),e.circle||(o.disable(0,"prev"),o.disable(o.target.length-1,"next"));for(var n in e){var a=/^on(.+)/.exec(n);a&&a[1]&&(e.event[a[1]]=e[n])}i.effect[e.effect].beforechange&&(i.effect[e.effect].mobeforechange=i.effect[e.effect].beforechange,delete i.effect[e.effect].beforechange),o.on(i.effect[e.effect]),o.on(e.event),o.trigger("beforeinit")!==!1&&(t.initDOM.call(o),t.attach.call(o),o.trigger("init")!==!1&&(o.switchTo(e.switchTo!==window.undefined?e.switchTo:e.playTo),e.autoPlay&&o.play()))}},t.initDOM=function(){var e=this,t=e.config;if(e.wrap=e.container,e.container=e.wrap.parent(),t.controller!==!1){if(t.controller=Zepto(t.controller),t.controller.length<1){for(var i=Zepto('<ul class="controller">'),o="",r=0;r<e.target.length;r++)o+="<li>"+(r+1)+"</li>";i.html(o),e.container.append(i),t.controller=i.children()}e.controller=t.controller}var n=e.target.find("script");n.each(function(e,t){t=Zepto(t),/^\s*document\.write\([^\)]+\)[\s;]*$/.test(t.html())&&t.remove()});var a=t.title.dataSrc||e.target,c=t.title.dataProp||"title",s=Zepto(t.title.dataWrap);a=Zepto(a),s.length>0&&a.attr(c)&&(e.titleWrap=s,e.titleData=[],a.each(function(t,i){e.titleData.push(Zepto(i).attr(c))})),e.cssPrefix="",e.propPrefix="";var l={webkit:"webkit",Moz:"moz",ms:"ms"},u=document.createElement("div");for(var f in l)if(void 0!==u.style[f+"Transform"]){e.cssPrefix="-"+l[f]+"-",e.propPrefix=f;break}},t.attach=function(){var e=this,i=e.config;e.controller&&Zepto.each(e.controller,function(o,r){var r=Zepto(r);r.on(i.type,function(){e.playTo(o)}),i.link||Zepto(r).on(t.e.touchstart,function(e){e.preventDefault()})}),e.nextBtn&&Zepto(e.nextBtn).on(t.e.touchend,function(t){e.next(),t.preventDefault()}),e.prevBtn&&Zepto(e.prevBtn).on(t.e.touchend,function(t){e.prev(),t.preventDefault()}),e.wrap.on(t.e.touchstart,function(){e.isPlaying&&t.clearTimer.call(e)}),Zepto("body").on(t.e.touchend,function(){e.isPlaying&&t.setTimer.call(e)}),i.touchMove&&t.touchMove.call(e)},e.playTo=function(e){if(e=parseInt(e),0/0!==e){var i,o=this,r=o.config;if(o.curPage!==window.undefined,e===o.oriCurPage)return void o.trigger("mobeforechange");if(o._outBound=function(e){if(e>=o.target.length&&(e%=o.target.length),0>e){var t=e%o.target.length;e=0===t?0:t+o.target.length}return e},o.oriPrevPage=o.oriCurPage,o.oriCurPage=e,o.prevPage=o.curPage,i=o.curPage,e=o.curPage=o._outBound(e),o.controller&&e!==i){var n=o.controller[e],a=o.controller[i];n&&Zepto(n).addClass(o.config.currentClass),a&&Zepto(a).removeClass(o.config.currentClass)}e!==i&&(o.target.eq(e).addClass(o.config.currentClass),o.target.eq(i).removeClass(o.config.currentClass)),o.titleWrap&&window.setTimeout(function(){o.titleWrap.html(o.titleData[o.curPage]||"")},r.title.delay);var c=Zepto(o.target[o.curPage]);if(r.lazy===window.undefined){var s=c.children();1===s.length&&"textarea"==s[0].tagName.toLowerCase()&&(r.lazy=!0)}if(r.lazy===!0&&(c.length>0&&!c.data("parsed")&&t.lazyload(c),o._loaded===window.undefined&&(o._loaded=[]),-1===o._loaded.indexOf(e))){var l=o.target.eq(e),u=l.find("*");u=Zepto(u.concat(l)),u.each(function(e,t){t=Zepto(t);var i=t.data("src");i&&(/img|audio|video|link/i.test(t[0].tagName)?t.attr("src",i):t.css("background-image","url("+i+")"),t.removeAttr("data-src"))}),o._loaded.push(e)}if(o.trigger("beforechange",[o.curPage])!==!1){o.trigger("mobeforechange");var f=Zepto(r.arrow);f.length>0&&(console.log(o.curPage>=o.target.length-1),o.curPage>=o.target.length-1&&!r.circle||-1!=o.disabledNextList.indexOf(o.curPage)?f.css("display","none"):f.css("display","block"))}}},e.next=function(){this.playTo(this.oriCurPage+1)},e.prev=function(){this.playTo(this.oriCurPage-1)},t.setTimer=function(){var e=this,i=e.config;e.timer&&t.clearTimer.call(e),e.timer=window.setInterval(function(){var t=e.curPage+1;e.playTo(t)},i.stay)},t.clearTimer=function(){window.clearInterval(this.timer)},e.play=function(){var e=this;t.setTimer.call(e),e.isPlaying=!0,e.trigger("play")},e.stop=function(){var e=this;t.clearTimer.call(e),e.isPlaying=!1,e.trigger("stop")},e.disable=function(e,t){var i=this;t&&"prev"!=t||i.disabledPrevList.push(e),t&&"next"!=t||i.disabledNextList.push(e)},e.enable=function(e,t){var i=this;if(!t||"prev"==t){var o=i.disabledPrevList.indexOf(e);-1!==o&&i.disabledPrevList.splice(o,1)}if(!t||"next"==t){var o=i.disabledNextList.indexOf(e);-1!==o&&i.disabledNextList.splice(o,1)}},e.switchTo=function(e){var t=this,i=t.config.animateTime;t.config.animateTime=0,t.playTo(e),window.setTimeout(function(){t.config.animateTime=i},2)},i.extend=function(e,t){var o={};Zepto.isPlainObject(e)?o=e:o[e]=t,Zepto.extend(i.effect,o)},t.lazyload=function(e){var t=e.children("textarea");1===t.length&&(e.html(t.eq(0).val()),e.data("parsed",!0))},t.touchMove=function(){var e,i,o,r,n,a,c,s,l,u,f,g,d,p=this,h=p.config;h.touchMove&&p.wrap.on(t.e.touchstart,function(a){var c=a.touches?a.touches[0]:a;r=l=c.pageX,n=u=c.pageY,p.trigger("touchstart",[r,n])!==!1&&(p.wrap.on(t.e.touchmove,e),p.wrap.on(t.e.touchend,i),o="")}),e=function(e){var t=e.touches?e.touches[0]:e,i=t.pageX,v=t.pageY;a=i-r,c=v-n,f=i-l,g=v-u,l=i,u=v,"x"==h.direction?(s=a,d=f):(s=c,d=g),o||(o=Math.abs(a/c)>1?"x":"y"),h.direction==o&&(e.preventDefault(),e.stopPropagation(),p.trigger("touchmove",[s,d,t]))},i=function(){if(!(o&&h.direction!=o||void 0===s||isNaN(s)||0===s)){if(p.wrap.off(t.e.touchmove,e),p.wrap.off(t.e.touchend,i),p.trigger("touchend",[s])===!1)return void(s=0);var r=!0;if(!s||Math.abs(s)<h.touchDis||!r)return p.playTo(p.curPage),void(s=0);if(-1!==p.disabledPrevList.indexOf(p.curPage)&&s>0||-1!==p.disabledNextList.indexOf(p.curPage)&&0>s)return p.playTo(p.oriCurPage),void(s=0);var n=s>0?p.oriCurPage-1:p.oriCurPage+1;p.playTo(n),s=0}}},i.extend("base",{init:function(){var e=this;config=e.config,Zepto.each(e.target,function(t,i){e.target[config.playTo][0]!=i&&Zepto(i).hide()})},beforechange:function(){var e=this,t=e.prevPage===window.undefined?null:e.target[e.prevPage],i=e.target[e.curPage];t&&Zepto(t).hide(),Zepto(i).show(),e.trigger("change",[e.curPage])}})})}(),function(){Motion.add("mo.Slide:mo.Tab",function(){var e=this,t=this.constructor;e.init=function(e){this.config=Zepto.extend(!0,{},t.config,e),this.superClass.call(this,this.config)},t.config={touchMove:!0,direction:"y",effect:"slide",controller:!1},mo.Tab.extend("slide",{init:function(){var e=this,t=e.config;e.wrap.css({position:"relative",overflow:"hidden"}),e.wrap.css("-webkit-backface-visibility","hidden"),e.target.css({position:"absolute",top:"0",left:"0",visibility:"hidden"}),"x"==t.direction?(e.animProp="translateX",e.sizeProp="width",e.posProp=["left","right"]):(e.animProp="translateY",e.sizeProp="height",e.posProp=["top","bottom"])},touchmove:function(e,t,i){var o=this,r=o.target.eq(o.curPage);if(1!=o.moving){var n=!1;(-1!==o.disabledNextList.indexOf(o.curPage)&&0>t||-1!==o.disabledPrevList.indexOf(o.curPage)&&t>0)&&(n=!0);var a=/\(([\d-]*).*\)/.exec(r.css(o.propPrefix+"Transform")),c=a?1*a[1]:0,s={},l=c+i;n&&(l=t/6),s[o.cssPrefix+"transform"]=o.animProp+"("+l+"px)",o.target.css("visibility","hidden"),r.css(s).css("visibility","visible");var u,f,g={};t>0?(u=o.target.eq(o._outBound(o.curPage-1)),f=-u[o.sizeProp]()):(u=o.target.eq(o._outBound(o.curPage+1)),f=r[o.sizeProp]()),n||(o.target.css("visibility","hidden"),r.css("visibility","visible"),u.css("visibility","visible"),g[o.cssPrefix+"transform"]=o.animProp+"("+(c+i+f)+"px)",u.css(g))}},touchend:function(e,t){var i=this,o=i.target.eq(i.curPage),r=i.target[i.curPage].getBoundingClientRect(),n=$(window)[i.sizeProp];if(!(i.target.eq(i.curPage).offset()[i.sizeProp]<=i.container.offset()[i.sizeProp])&&(0>=t&&r[i.posProp[1]]>n||t>0&&r[i.posProp[0]]<0)){var a=/\(([\d-]*).*\)/.exec(o.css(i.propPrefix+"Transform")),c=a?1*a[1]:0,s={},l=c+t,u=o[i.sizeProp](),f=i.wrap[i.sizeProp]();return l=l>0?0:l,l=f-u>l?f-u:l,s[i.cssPrefix+"transform"]=i.animProp+"("+l+"px)",o.animate(s),!1}i.touchTrigger=!0},beforechange:function(){var e,t=this,i=t.config,o=t.prevPage,r=t.curPage,n=t.target.eq(o),a=t.target.eq(r),c={},s={},l={};e=t.oriCurPage>t.oriPrevPage?n[t.sizeProp]():-a[t.sizeProp](),s[t.cssPrefix+"transform"]=t.animProp+"("+e+"px)",c[t.cssPrefix+"transform"]=t.animProp+"("+-e+"px)",l[t.cssPrefix+"transform"]=t.animProp+"(0px)",t.touchTrigger||(a.css(s),t.touchTrigger=!1),t.target.css("visibility","hidden"),n.css("visibility","visible"),a.css("visibility","visible"),window.setTimeout(function(){n.animate(c,i.animateTime,i.easing,function(){t.target.eq(t.prevPage).css("visibility","hidden")}),t.moving=!0,a.animate(l,i.animateTime,i.easing,function(){a.css("visibility","visible"),t.moving=!1,t.trigger("change",[t.curPage])})},0)}})})}()}();