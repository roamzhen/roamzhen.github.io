!function(e){function n(e,n,i,t){for(var o=new THREE.Geometry,a=0;1e3>a;a++){var r=new THREE.Vector3;r.x=e*Math.random()-e/2,r.y=e*Math.random()-e/2,r.z=n*Math.random()-n-i,o.vertices.push(r)}var s=new THREE.Points(o,t);return s}function i(){p.setSize(window.innerWidth,window.innerHeight),r.aspect=window.innerWidth/window.innerHeight,r.updateProjectionMatrix()}function t(){w&&(requestAnimationFrame(t),o())}function o(){u&&(r.position.z=r.position.z-(2*l+z)/20);for(var e=E.length-1;e>=0;e--)E[e].position.z=E[e].position.z+m,E[e].rotation.z=E[e].rotation.z+.005,E[e].position.z>l+z&&(E[e].position.z=-l+z);for(var e=c.length-1;e>=0;e--)c[e].position.z=c[e].position.z+m,c[e].rotation.z=c[e].rotation.z+.005,c[e].position.z>2*l+z&&(c[e].position.z=z);p.render(s,r)}var a,r,s,p,d={},w=!1,u=!1,E=[],c=[],h=700,l=6e3,z=2e3,m=50;d.init=function(){a=document.querySelector(".canvas-wrapper"),r=new THREE.PerspectiveCamera(45,window.innerWidth/window.innerHeight,2,l),r.position.x=0,r.position.y=0,r.position.z=0,r.lookAt(0,0,-(2*l)),s=new THREE.Scene,s.fog=new THREE.FogExp2(0,1e-4);var e=(new THREE.TextureLoader).load("../img/textures/electric2.png"),t=(new THREE.TextureLoader).load("../img/textures/electric2.png"),o=(new THREE.TextureLoader).load("../img/textures/electric2.png"),d=new THREE.PointsMaterial({size:20,map:e,alphaTest:.5,transparent:!0,color:16711800}),w=n(h,l,z,d),u=n(h,l,z+l,d);d=new THREE.PointsMaterial({size:20,map:t,alphaTest:.5,transparent:!0,color:9437439});var m=n(h,l,z,d),T=n(h,l,z+l,d);d=new THREE.PointsMaterial({size:20,map:o,alphaTest:.5,transparent:!0,color:16765564});var g=n(h,l,z,d),v=n(h,l,z+l,d);E.push(w),E.push(m),E.push(g),c.push(u),c.push(T),c.push(v),s.add(w),s.add(m),s.add(g),s.add(u),s.add(T),s.add(v),p=new THREE.WebGLRenderer({antialias:!0,alpha:!0}),p.setPixelRatio(window.devicePixelRatio),p.setSize(window.innerWidth,window.innerHeight),p.domElement.className="animCanvas",a.appendChild(p.domElement),p.gammaInput=!0,p.gammaOutput=!0,window.addEventListener("resize",i,!1)},d.start=function(){r.position.z=0,w=!0;for(var e=E.length-1;e>=0;e--)E[e].position.z=0;for(var e=c.length-1;e>=0;e--)c[e].position.z=0;t()},d.stop=function(e){u=!0,setTimeout(function(){u=!1,w=!1,r.position.z=-(2*l+z),e()},400)},e.threeApp=d}(this);