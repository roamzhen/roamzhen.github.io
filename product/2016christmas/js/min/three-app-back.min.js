!function(e){function n(e,n,t,o){for(var i=new THREE.Geometry,a=0;1e3>a;a++){var r=new THREE.Vector3;r.x=e*Math.random()-e/2,r.y=e*Math.random()-e/2,r.z=n*Math.random()-n-t,i.vertices.push(r)}var s=new THREE.Points(i,o);return s}function t(){p.setSize(window.innerWidth,window.innerHeight),s.aspect=window.innerWidth/window.innerHeight,s.updateProjectionMatrix()}function o(){l&&(requestAnimationFrame(o),i(),r.update())}function i(){E&&(s.position.z=s.position.z-5*z);for(var e=u.length-1;e>=0;e--)u[e].position.z=u[e].position.z+z,u[e].position.z>T&&(u[e].position.z=-T);for(var e=m.length-1;e>=0;e--)m[e].position.z=m[e].position.z+z,m[e].position.z>2*T&&(m[e].position.z=0);c.getDelta();p.render(d,s)}var a,r,s,d,p,w={},l=!1,E=!1,c=new THREE.Clock,u=[],m=[],h=1e3,T=2e3,z=30;w.init=function(){a=document.querySelector(".canvas-wrapper"),s=new THREE.PerspectiveCamera(30,window.innerWidth/window.innerHeight,2,T),s.position.x=0,s.position.y=0,s.position.z=0,controls=new THREE.FlyControls(s),controls.movementSpeed=1e3,controls.domElement=a,controls.rollSpeed=Math.PI/6,controls.autoForward=!1,controls.dragToLook=!1,d=new THREE.Scene,d.fog=new THREE.FogExp2(0,.001);var e=(new THREE.TextureLoader).load("../img/textures/disc.png"),o=(new THREE.TextureLoader).load("../img/textures/disc.png"),i=(new THREE.TextureLoader).load("../img/textures/disc.png"),w=new THREE.PointsMaterial({size:20,map:e,alphaTest:.5,transparent:!0,color:16711935}),l=n(h,T,0,w),E=n(h,T,T,w);w=new THREE.PointsMaterial({size:20,map:o,alphaTest:.5,transparent:!0,color:16777215});var c=n(h,T,0,w),z=n(h,T,T,w);w=new THREE.PointsMaterial({size:20,map:i,alphaTest:.5,transparent:!0,color:65535});var H=n(h,T,0,w),g=n(h,T,T,w);u.push(l),u.push(c),u.push(H),m.push(E),m.push(z),m.push(g),d.add(l),d.add(c),d.add(H),d.add(E),d.add(z),d.add(g),p=new THREE.WebGLRenderer({antialias:!0,alpha:!0}),p.setPixelRatio(window.devicePixelRatio),p.setSize(window.innerWidth,window.innerHeight),p.domElement.className="animCanvas",a.appendChild(p.domElement),p.gammaInput=!0,p.gammaOutput=!0,r=new Stats,a.appendChild(r.dom),window.addEventListener("resize",t,!1)},w.start=function(){s.position.z=0,l=!0,o()},w.stop=function(e){E=!0,setTimeout(function(){E=!1,l=!1,e()},400)},e.threeApp=w}(this);