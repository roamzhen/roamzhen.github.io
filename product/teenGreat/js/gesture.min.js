/*! motion v0.0.0 | (c) 2014, 2015/03/19 | gesture | motion Foundation, Inc. */
!function(){!function(){!function(){if(!window.Motion){var a={version:"1.1",add:function(a,b){for(var c=window,d=arguments.callee,e=null,f=(/^([\w\.]+)(?:\:([\w\.]+))?\s*$/.test(a),RegExp.$1.split(".")),g=RegExp.$2.split("."),a=f.pop(),h=/[A-Z]/.test(a.substr(0,1)),i=function(){var a=arguments.callee.prototype.init;"function"==typeof a&&arguments.callee.caller!=d&&a&&a.apply(this,arguments)},j=0;j<f.length;j++){var k=f[j];c=c[k]||(c[k]={})}if(""!=g[0]){e=window;for(var j=0;j<g.length;j++)if(e=e[g[j]],!e){e=null;break}}h&&"function"==typeof b?(e&&(i.prototype=new e,i.prototype.superClass=e),c[a]=i,i.prototype.constructor=i,b.call(c[a].prototype)):c[a]=b}};window.Motion=window.mo=a}}()}(),function(){Motion.add("mo.Base",function(){{var a=this;this.constructor}a.constructor=function(){},a.on=function(){return box=Zepto(this),box.on.apply(box,arguments)},a.off=function(){return box=Zepto(this),box.off.apply(box,arguments)},a.trigger=function(){var a=Zepto(this);return a.triggerHandler.apply(a,arguments)}})}(),function(){Motion.add("mo.Gesture:mo.Base",function(){var a,b=this,c={addCache:function(a,b,c){return a[b]?a[b].push(c):a[b]=[].concat(c),a},cutCache:function(a,b,c){return a[b]&&(a[b]=a[b].filter(function(a){return a!=c})),a},getDistance:function(a,b){return{x:b.centerX-a.centerX,y:b.centerY-a.centerY}},getAngle:function(a,b){var d=c.getDistance(a,b);return 180*Math.atan2(d.y,d.x)/Math.PI},getSpeed:function(a,b){var d,e,f,g=c.getDistance(a,b);return d=g.x,e=g.y,f=b.timeStamp-a.timeStamp,{x:Math.abs(d/f)||0,y:Math.abs(e/f)||0}},getDirect:function(a,b){var d,e,f={},g=c.getDistance(a,b);return d=g.x,e=g.y,f.right=d>0,f.up=0>e,f},getCenter:function(a){var b=[],d=[],e=[],f=[],g=Math.min,h=Math.max;return 1===a.length?{pageX:a[0].pageX,pageY:a[0].pageY,clientX:a[0].clientX,clientY:a[0].clientY}:(c.each(a,function(a){b.push(a.pageX),d.push(a.pageY),e.push(a.clientX),f.push(a.clientY)}),{pageX:(g.apply(Math,b)+h.apply(Math,b))/2,pageY:(g.apply(Math,d)+h.apply(Math,d))/2,clientX:(g.apply(Math,e)+h.apply(Math,e))/2,clientY:(g.apply(Math,f)+h.apply(Math,f))/2})},each:function(a,b,c){var d,e;if("forEach"in a)a.forEach(b,c);else if(void 0!==a.length){for(d=0,e=a.length;e>d;d++)if(b.call(c,a[d],d,a)===!1)return}else for(d in a)if(a.hasOwnProperty(d)&&b.call(c,a[d],d,a)===!1)return},getDirectByAngle:function(a){var b=Math.abs(a);return 45>b?"right":b>135?"left":a>0?"down":"up"},uniqueID:function(){var a=(new Date).getTime().toString(),b=1,c=function(){return a+b++};return function(a){return a&&(a.uniqueID||(a.uniqueID=c()))}}()},d={prevent:function(a,b){b.preventDefault&&a.preventDefault()},filter:function(a){var b=c.getCenter(a.touches);return{centerX:b.clientX,centerY:b.clientY,target:a.target||a.srcElement,type:a.type,touches:a.touches,timeStamp:a.timeStamp}},getEventData:function(a){var b=["action","angle","speed","preventDefault","distance","durTime","orginEvent"],c={};for(var d in a)b.indexOf(d)>-1&&(c[d]=a[d]);return c},runGesture:function(b,e,f){d.prevent(b,f);var g,h,i=this;g=this.posInfo.start,h=this.posInfo.current,"touchend"!=b.type?h=this.posInfo.current=d.filter(b):(this.posInfo.current=d.filter(b),this.posInfo.current.centerX=h.centerX,this.posInfo.current.centerY=h.centerY,h=this.posInfo.current);for(var j in a.gestureActions)a.gestureActions[j].forEach(function(a){var j={action:e,instance:i,option:f,angle:c.getAngle(g,h),speed:c.getSpeed(g,h),distance:c.getDistance(g,h),durTime:h.timeStamp-g.timeStamp,direction:c.getDirect(g,h),preventDefault:b.preventDefault,runEvents:d.runEvents,orginEvent:b};a(j)})},runEvents:function(a,b){var c=b.instance.eventCache[a];c&&c.forEach(function(c){var e=d.getEventData(b);e.type=a,c(e)})}},e={touchstart:function(a,b){this.posInfo.start=d.filter(a),d.runGesture.call(this,a,"start",b)},touchmove:function(a,b){d.runGesture.call(this,a,"move",b)},touchend:function(a,b){d.runGesture.call(this,a,"end",b)}},f=this.constructor;b.init=a=function(a,b){a=a||document,b=Zepto.extend(!0,{},f.config,b),this.eventCache={},this.posInfo={};var c=this;for(var d in e)!function(d){a.addEventListener(d,function(a){e[d].call(c,a,b)},!1)}(d)},a.gestureActions={},a.addPlugin=function(b){var d=b,e=function(a){d=Zepto.extend(!0,{},d,a),b.handler(d)};return c.addCache(a.gestureActions,b.name.toLowerCase(),e),a},a.addPlugin({name:"touch",direction:!0,option:{},handler:function(a){var b=a.name+a.action;if(a.runEvents(b,a),"move"==a.action){var d=a.angle;dir=c.getDirectByAngle(d),b=a.name+dir,a.runEvents(b,a)}}}),a.addPlugin({name:"swipe",direction:!0,option:{swipeSpeed:.5},handler:function(a){if("end"==a.action){var b="",d=a.angle;(a.speed.x>=a.option.swipeSpeed||a.speed.y>=a.option.swipeSpeed)&&(b=c.getDirectByAngle(d));var e=a.name+b;a.runEvents(e,a)}}}),a.addPlugin({name:"hold",option:{holdTime:1e3,offset:10},extra:{},handler:function(a){if("end"!=a.action){var b=a.name;Math.abs(a.distance.x)>a.option.offset||Math.abs(a.distance.y)>a.option.offset?(a.extra.timer&&clearTimeout(a.extra.timer),a.extra.timer=null):a.extra.timer||(a.extra.timer=setTimeout(function(){a.runEvents(b,a)},a.option.holdTime))}else a.extra.timer&&clearTimeout(a.extra.timer),a.extra.timer=null}}),a.addPlugin({name:"tap",option:{tapTime:500,offset:10},extra:{},handler:function(a){if("start"==a.action)a.extra.timer=setTimeout(function(){a.extra.timer=null},a.option.tapTime);else if("end"==a.action){var b=a.name;a.extra.timer&&Math.abs(a.distance.x)<=a.option.offset&&Math.abs(a.distance.y)<=a.option.offset&&a.runEvents(b,a),a.extra.timer&&clearTimeout(a.extra.timer),a.extra.timer=null}}}),f.config={preventDefault:!0},b.addGesture=function(a,b){b=b||function(){};var d=a.split(" "),e=this;return d.forEach(function(a){c.addCache(e.eventCache,a,b)}),this},b.removeGesture=function(a,b){b=b||function(){};var d=a.split(" "),e=this;return d.forEach(function(a){c.cutCache(e.eventCache,a,b)}),this}})}()}();/*  |xGv00|6de6c71db118a9256fbf99f39b7392f4 */