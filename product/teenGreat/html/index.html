<!DOCTYPE html>
<html lang="zh-CN" data-use-rem="">
  <head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no"/>
    <meta name="description" content="习大大"/>
    <meta name="keywords" content="a,b"/>
    <title>习近平的二零一七</title>
    <script>
      (function (win){
        var doc = win.document;
        var html = doc.documentElement;
        var option = html.getAttribute('data-use-rem');
        if( option === null ) return;
        // defaut 640px；
        var baseWidth = option == 'default' || option == '' || parseInt(option) <= 0 ? 640 : parseInt(option);
        var grids = baseWidth/100,
        resizeEvt = 'orientationchange' in win ? 'orientationchange' : 'resize',
        recalc = function() {
          var clientWidth = html.clientWidth || 320; // default to 320 if can't get device-width
          html.style.fontSize = clientWidth / grids + 'px';
        };
        // Abort if browser does not support addEventListener
        if (!doc.addEventListener) return;
        win.addEventListener(resizeEvt, recalc, false);
        doc.addEventListener('DOMContentLoaded', recalc, false);
        recalc();
      })(window);
    </script>
    <style type="text/css">
      body {
        background-color: #3a3b7b;
      }
      
      html, body {
        height: 100%;
      }
      
      .loading-wrap {
        position: absolute;
        top: 0;
        left 0;
        width: 100%;
        height: 100%;
        z-index: 300;
      }
      .loading-ring-wrap {
        position: absolute;
        left: 50%;
        width: 1.6rem;
        height: 1.6rem;
        margin-left: -0.8rem;  
        bottom: 3rem;      
      }
      .loading-number {
        position: absolute;
        left: 0;
        top: 50%;
        width: 100%;
        line-height: 1rem;
        margin-top: -0.48rem;
        font-size: 0.21rem;
        color: #fff;
        text-align: center;
      }
      .loading-light {
        position: absolute;
        left: 50%;
        top: 50%;
        width: 6.4rem;
        height: 3.34rem;
        margin-left: -3.2rem;
        margin-top: -1.67rem;
        background-image: url(../img/ringHalo.png);
        background-size: 100% 100%;
        
        opacity: 0;
        
        -webkit-animation: light-shine 0.8s infinite;
      }
      .loading-ring {
        position: absolute;
        left: 0;
        top: 0;
        width: 1.6rem;
        height: 1.6rem;
        z-index: 1;
        
        -webkit-animation: rotate-ring 1s linear infinite;
      }
      .ring-item {
        pointer-events: none;
        position: absolute;
        left: 50%;
        top: 50%;
        width: 3.06rem;
        height: 2.89rem;
        margin-left: -1.54rem;
        margin-top: -1.51rem;
        background-image: url(../img/ring.png);
        background-size: 100% 100%;
      }
      @-webkit-keyframes rotate-ring {
        0%{
          -webkit-transform: rotate(0deg);
        }
        50%{
          -webkit-transform: rotate(180deg);
        }
        100% {
          -webkit-transform: rotate(360deg);
        }
      }
      @-webkit-keyframes light-shine {
        0%{
         opacity: 0;
        }
        50%{
          opacity: 1;
        }
        100% {
          opacity: 0;
        }
      }
    </style>
    <link rel="stylesheet" href="../css/style.css"/>
    <script src="../js/jquery.min.js"></script>
  </head>
  <body>
    <div src="../src/hintimg.png" style="width:1px;height:1px;position:absolute;left: 0; top:0;z-index:-10;" class="img"></div>
    <div id="sec-load" class="loading-wrap">
      <div class="loading-ring-wrap">
        <div id="load-p" class="loading-number">0%</div>
        <div class="loading-light"></div>
        <div class="loading-ring">
          <div class="ring-item"></div>
        </div>
      </div>
    </div>
    <div class="wrap">
      <section class="sec-page">
        <div id="long-list" class="page-list"><b class="page-1"></b><b class="page-2"></b><b class="page-3"></b><b class="page-4"></b><b class="page-5"></b><b class="page-6"></b><b class="page-7"></b><b class="page-8"></b><b class="page-9"></b><b class="page-10"></b><b class="page-11"></b><b class="page-12"></b><b class="page-13"></b><b class="page-14"></b><b class="page-15"></b><b class="page-16"></b><b class="page-17"></b><b class="page-18"></b><b class="page-19"></b><b class="page-20"></b><span id="dialog_1" class="dialog-1"></span><span id="dialog_2" class="dialog-2"></span><span id="dialog_3" class="dialog-3"></span><span id="dialog_4" class="dialog-4"></span><span id="dialog_5" class="dialog-5"></span><span id="dialog_6" class="dialog-6"></span><span id="dialog_7" class="dialog-7"></span><span id="dialog_8" class="dialog-8"></span><span id="dialog_9" class="dialog-9"></span><span id="dialog_10" class="dialog-10"></span><span id="dialog_11" class="dialog-11"></span><span id="dialog_12" class="dialog-12"></span>
          <div class="video-item"></div>
        </div>
      </section>
      <section class="sec-btn">
        <div class="music-btn">
          <svg fill="#FFFFFF" stroke="#000000" stroke-width="0" class="lines line1">
            <rect x="0" y="0" width="12" height="48"></rect>
          </svg>
          <svg fill="#FFFFFF" stroke="#000000" stroke-width="0" class="lines line2">
            <rect x="0" y="0" width="12" height="48"></rect>
          </svg>
          <svg fill="#FFFFFF" stroke="#000000" stroke-width="0" class="lines line3">
            <rect x="0" y="0" width="12" height="48"></rect>
          </svg>
          <svg fill="#FFFFFF" stroke="#000000" stroke-width="0" class="lines line4">
            <rect x="0" y="0" width="12" height="48"></rect>
          </svg>
          <svg fill="#FFFFFF" stroke="#000000" stroke-width="0" class="lines line5">
            <rect x="0" y="0" width="12" height="48"></rect>
          </svg>
        </div>
        <div id="btn-controll" class="ring">
          <div class="ring-item-wrap">
            <div class="ring-item"></div>
          </div>
          <div class="ring-words"></div>
          <div class="ring-light"></div>
        </div>
        <div class="share-btn"></div>
        <div class="reload-btn"></div>
      </section>
      <div class="section sec-canvas"></div>
      <div class="section sec-effect">
        <div class="effect-middle"></div>
        <div class="effect-bottom"></div>
        <div class="effect-top"></div>
        <div class="effect-words">
          <p class="words">你已连续点赞<span class='number' id='loveNumber'>2018</span>次！</p>
        </div>
      </div>
      <div class="section sec-share">
        <div class="share-words"></div>
      </div>
    </div>
    <script>
      var htmlWidth = document.documentElement.clientWidth;
      var htmlHeight = document.documentElement.clientHeight;
      
      var loadingRingBottom = (htmlHeight/2 - 1800/parseInt(document.documentElement.style.fontSize)) + 'px';
      $('.loading-ring-wrap').css('bottom', loadingRingBottom);
      
    </script>
    <script src="../js/pixi.min.js"></script>
    <script src="../js/static-index.js"></script>
    <script>
      var isWeixin=IsWeixinCheck();
      window.addEventListener('contextmenu', function(e){
        e.preventDefault();
      });
      window.ontouchstart = function(e) { e.preventDefault(); };
      
      
      window.onload = function () {
        $bgSound=$('<audio preload="auto" id="bgMusic" loop><source src="../music/bg_voice.mp3" type="audio/mpeg"></audio>');
        $("body").append($bgSound);
        
        var musicBtn = $('.music-btn');
        var musicOff = false;
        
        setTimeout(function(){
          $('.lines1').css('animation', 'line-scale 0.6s ease-in-out infinite');
          $('.lines2').css('animation', 'line-scale 0.6s 0.3s ease-in-out infinite');
          $('.lines3').css('animation', 'line-scale 0.6s 0.2s ease-in-out infinite');
          $('.lines4').css('animation', 'line-scale 0.6s 0.3s ease-in-out infinite');
          $('.lines5').css('animation', 'line-scale 0.6s ease-in-out infinite');
        },100);
        
        musicBtn.on('touchstart', function(){
        
          if(!musicOff) {
            $('#bgMusic')[0].pause();
            musicBtn.addClass('off');
            musicOff = true;
          }else {
            $('#bgMusic')[0].play();
            musicBtn.removeClass('off');
            musicOff = false;
          }
        });
        
        if(isWeixin){
          document.addEventListener("WeixinJSBridgeReady", function () {
            $bgSound[0].play();
          }, false);
        }else{
          $bgSound[0].play();
        }
        PreLoadImages();
      };
      
      
      
      
    </script>
  </body>
</html>